# 人脸检测GUI工具 - 使用说明

## 项目状态

### ✅ 已完成的功能
1. **基础依赖安装** - 除MediaPipe外的所有依赖已成功安装
2. **轻量版GUI应用** - 创建了兼容性友好的GUI界面
3. **图片查看功能** - 支持多种图片格式的预览
4. **兼容性检测** - 自动检测并提示MediaPipe可用性
5. **详细说明文档** - 提供完整的安装和使用指南

### ⚠️ 当前限制
- **MediaPipe不兼容Python 3.13** - 人脸检测功能暂时不可用
- 需要降级到Python 3.11或3.12才能使用完整功能

## 文件说明

### 核心文件
- `detect.py` - 人脸检测核心算法
- `resp_entity.py` - 响应实体定义
- `face_detect_gui.py` - 完整版GUI（需要MediaPipe）
- `face_detect_gui_lite.py` - 轻量版GUI（当前可用）

### 配置文件
- `requirements.txt` - 项目依赖列表
- `COMPATIBILITY.md` - 详细兼容性说明
- `README.md` - 项目完整说明

### 启动脚本
- `run_gui.bat` - Windows快速启动脚本
- `run_gui.sh` - Linux/macOS启动脚本
- `test_gui.py` - 依赖测试脚本

## 当前使用方法

### 方法1：自动环境设置（推荐）
```bash
# Windows
setup_env.bat

# Linux/macOS
chmod +x setup_env.sh
./setup_env.sh
```

### 方法2：直接运行轻量版GUI
```bash
"E:\Program Files\Python\Python313\python.exe" face_detect_gui_lite.py
```

### 方法3：使用原有批处理脚本
```bash
run_gui.bat
```

## 轻量版GUI功能

### 可用功能
- ✅ 图片选择和预览
- ✅ 图片基本信息显示（尺寸、格式、大小等）
- ✅ 系统兼容性检测
- ✅ 详细的兼容性说明
- ✅ 友好的错误提示

### 暂不可用功能
- ❌ 人脸检测（需要MediaPipe）
- ❌ 人脸特征分析
- ❌ 图片质量检测

## 启用完整功能的方法

### 推荐方案：使用Python 3.11/3.12

1. **下载并安装Python 3.11或3.12**
   - 访问 https://www.python.org/downloads/
   - 下载Python 3.11.x或3.12.x版本
   - 安装时选择"Add to PATH"

2. **重新安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **验证安装**
   ```bash
   python test_gui.py
   ```

4. **运行完整版GUI**
   ```bash
   python face_detect_gui.py
   ```

### 替代方案：使用虚拟环境

#### 使用conda
```bash
conda create -n face_detect python=3.11
conda activate face_detect
pip install -r requirements.txt
python face_detect_gui.py
```

#### 使用venv
```bash
python3.11 -m venv face_detect_env
face_detect_env\Scripts\activate  # Windows
# 或
source face_detect_env/bin/activate  # Linux/macOS
pip install -r requirements.txt
python face_detect_gui.py
```

## 故障排除

### 问题1：MediaPipe安装失败
**原因**：Python版本不兼容
**解决**：使用Python 3.11或3.12

### 问题2：GUI无法启动
**原因**：缺少tkinter或其他依赖
**解决**：
```bash
# 检查tkinter
python -c "import tkinter; print('tkinter可用')"

# 重新安装依赖
pip install -r requirements.txt
```

### 问题3：图片无法显示
**原因**：Pillow版本问题
**解决**：
```bash
pip install --upgrade Pillow
```

## 技术支持

### 查看详细信息
- 运行 `test_gui.py` 检查所有依赖状态
- 查看 `COMPATIBILITY.md` 了解兼容性详情
- 查看 `README.md` 了解完整功能说明

### 系统要求
- **推荐**：Python 3.11 或 3.12
- **当前**：Python 3.13（功能受限）
- **操作系统**：Windows 10/11, Linux, macOS
- **内存**：至少2GB可用内存
- **存储**：至少500MB可用空间

## 更新日志

### v1.1 (当前版本)
- ✅ 创建轻量版GUI，兼容Python 3.13
- ✅ 添加详细的兼容性检测和说明
- ✅ 提供多种启动方式
- ✅ 完善错误提示和用户指导

### v1.0
- ✅ 基础人脸检测功能
- ✅ 完整版GUI界面
- ✅ 支持多种图片格式
- ✅ 详细的检测结果显示

---

**注意**：当前版本为过渡版本，主要解决兼容性问题。建议升级Python版本以获得完整功能体验。